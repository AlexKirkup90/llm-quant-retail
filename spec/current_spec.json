{
  "version": "0.6",
  "as_of": "2025-10-16",
  "features": [
    "live_ohlcv",
    "backtesting",
    "transaction_costs",
    "risk_controls",
    "bandit_universe_selection"
  ],
  "features_plus": [
    "explainability",
    "sector_neutral_signals",
    "bandit_net_alpha",
    "risk_dashboard"
  ],
  "dependencies": [
    "pandas",
    "yfinance",
    "numpy",
    "matplotlib",
    "streamlit"
  ],
  "universe_modes": [
    "SP500_MINI",
    "SP500_FULL",
    "R1000"
  ],
  "universe_filters": {
    "min_price": 3.0,
    "min_adv_usd": 5000000
  },
  "learning": {
    "rolling_weeks": 12,
    "ridge_alpha": 10.0,
    "ema_lambda": 0.9,
    "weights_output": "runs/feature_weights.json"
  },
  "regime_scalers": {
    "vol_regime": {
      "high": {
        "mom_6m": 0.7,
        "risk_beta": 0.7
      },
      "med": {
        "mom_6m": 1.0,
        "risk_beta": 1.0
      },
      "low": {
        "mom_6m": 1.05,
        "risk_beta": 1.05
      }
    },
    "market_sentiment": {
      "neg": {
        "quality_roic": 1.2,
        "def_stability": 1.2
      },
      "pos": {
        "mom_6m": 1.05,
        "eps_rev_3m": 1.05
      },
      "neu": {}
    }
  },
  "validation": {
    "split": "rolling_80_20",
    "log_metrics": [
      "val_sortino",
      "val_alpha"
    ]
  },
  "factor_features": [
    "mom_6m",
    "eps_rev_3m",
    "quality_roic",
    "value_ey",
    "news_sent",
    "risk_beta",
    "liq_adv",
    "def_stability"
  ],
  "notes": [
    "Add universe loader for SP500_FULL and R1000 with CSVs under data/reference/.",
    "Apply liquidity/price filters post-merge; warn on dropped tickers.",
    "Weights: base from rolling ridge; then apply regime scalers; then normalize.",
    "Introduce automated universe selection engine with telemetry constraints (v0.4).",
    "v0.5 introduces live OHLCV caching, walk-forward backtests, and risk overlays."
  ],
  "universe": {
    "modes": [
      "SP500",
      "SP500_FULL",
      "R1000"
    ],
    "fallback": "SP500_MINI",
    "filters": {
      "price": 3.0,
      "adv_usd": 5000000
    }
  },
  "data": {
    "price_years": 5,
    "adv_source": "data/reference/ohlcv_latest.csv",
    "cache": "data/cache/prices"
  },
  "weights": {
    "method": "rolling_ridge",
    "alpha": 10.0,
    "ema_lambda": 0.9,
    "output_file": "runs/feature_weights.json"
  },
  "risk": {
    "regime_scalers": {
      "vol_regime": "spec.regime_scalers.vol_regime",
      "market_sentiment": "spec.regime_scalers.market_sentiment"
    },
    "target_vol": 0.15,
    "beta_limit": 1.2,
    "drawdown_limit": 0.2
  },
  "evaluation": {
    "validation_split": "rolling_80_20",
    "metrics": [
      "sortino",
      "alpha",
      "val_sortino",
      "val_alpha"
    ]
  },
  "change_proposal": "Add automated universe selection engine, telemetry logging, and v0.5 spec compliance.",
  "universe_selection": {
    "lookback_weeks": 8,
    "min_weeks": 4,
    "weights": {
      "alpha": 0.4,
      "sortino": 0.25,
      "mdd": 0.2,
      "coverage": 0.1,
      "turnover": 0.05
    },
    "temperature": 0.7,
    "constraints": {
      "min_constituents": {
        "SP500_FULL": 500,
        "R1000": 900,
        "NASDAQ_100": 100,
        "FTSE_350": 300,
        "SP500_MINI": 125,
        "default": 100
      }
    },
    "candidates": [
      "SP500_FULL",
      "R1000",
      "NASDAQ_100"
    ]
  }
}
